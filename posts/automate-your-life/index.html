<!DOCTYPE html><html lang="en"><head prefix="og: http://ogp.me/ns#"><title>You are a programmer, automate your life already!</title><link rel="stylesheet" href="/static/css/main.css"><link rel="stylesheet" href="/static/css/pygment.css"><link rel="stylesheet" href="/static/css/font-awesome.min.css"><link href="//fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/vendor/lightbox2/css/lightbox.min.css"><link href="https://afeld.github.io/emoji-css/emoji.css" rel="stylesheet"><link rel="shortcut icon" type="image/png" href="/static/images/favicon.png"><meta name="google-site-verification" content="RhKly6bfyZ4vo03CPdY9f-Bg8CuZA0GhTPvCEPsNa2c"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="<p>Who likes doing mundane manual tasks over and over again every day? Automate them!</p>"><meta name="author" content="Jahongir Rahmonov"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta property="og:title" content="You are a programmer, automate your life already!"><meta property="og:type" content="website"><meta property="og:image" content="/static/images/programming.jpg"><meta property="og:url" content="http://rahmonov.me/posts/automate-your-life/"><meta property="og:description" content="<p>Who likes doing mundane manual tasks over and over again every day? Automate them!</p>"><link href="http://rahmonov.me/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Jahongir Rahmonov Full Atom Feed"><link href="http://rahmonov.me/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Jahongir Rahmonov Full RSS Feed"><link href="http://rahmonov.me/feeds/automation.atom.xml" type="application/atom+xml" rel="alternate" title="Jahongir Rahmonov Categories Atom Feed"><meta name="description" content="<p>Who likes doing mundane manual tasks over and over again every day? Automate them!</p>"><meta name="tags" content="programming"><link href="https://unpkg.com/ilyabirman-likely@2/release/likely.css" rel="stylesheet"><script src="https://unpkg.com/ilyabirman-likely@2/release/likely.js" type="text/javascript"></script></head><body id="index" class="home"><div class="container"><button class="nav js-mobile"><i class="fa fa-bars"></i></button><div class="side"><div class="logo"><a href="/"><img src="/static/images/me.jpg" width="150" height="150" class="jahon" alt="Jahongir Rahmonov"></a></div><h2>Jahongir Rahmonov</h2><div class="paragraphs"><p> I'm a Software Developer at <a href="http://mysuperdispatch.com/">Super Dispatch (TechStars '16)</a>. Avid reader. <a href="http://wiut.uz/">WIUT</a> graduate. Blogger and an amateur speaker </p><p> I write about Python, Django, AngularJS and sometimes something non-technical. </p><p> Welcome to my corner <i class="em em-snake"></i></p> </div><form method="get" action="https://www.google.com/search"><input name="sitesearch" value="rahmonov.me" type="hidden"><input type="text" id="search-query" class="field field-text" required name="q" placeholder="Search..." autocomplete="off"><input type="image" src="/static/images/search-icon.png" width="20" height="20" class="search-icon" title="Search via Google" alt="Search via Google"></form><ul class="menu"><li><a href="/">Home</a></li><li><a href="/pages/about.html">About</a></li><li><a href="/pages/about.html#subscribe">Subscribe</a></li><li><a href="/pages/about.html#contact">Contact</a></li><li><a href="/feeds/atom.xml">RSS <i class="fa fa-rss"></i></a></li></ul><p class="profiles"><a title="GitHub" href="https://github.com/rahmonov"><i class="fa fa-github-square"></i></a><a title="StackOverflow" href="https://stackoverflow.com/users/4137194/jahongir-rahmonov?tab=profile"><i class="fa fa-stack-overflow"></i></a><a title="Twitter" href="https://twitter.com/the_rahmonov"><i class="fa fa-twitter-square"></i></a><a title="Facebook" href="https://www.facebook.com/rahmonovj"><i class="fa fa-facebook-official"></i></a><a title="Instagram" href="https://www.instagram.com/rahmonov.me/"><i class="fa fa-instagram"></i></a><a title="LinkedIn" href="https://www.linkedin.com/in/jahongirrahmonov"><i class="fa fa-linkedin-square"></i></a></p></div><div class="wrap"><div class="content"><h4>Sun 03 February 2019</h4><h1>You are a programmer, automate your life already!</h1><div class="entry-content"><p>Hello, how are you? I have missed you. I haven't blogged for a long time now. But I have prepared something good for you to compensate.</p><p>Today, we will automate a boring task that I have been doing manually for a very long time now.</p><p>An inspiration for this blog post came from <a href="https://twitter.com/nnja">Nina Zakharenko</a>, Senior Cloud Developer Advocate at Microsoft, who recently tweeted the following:</p><blockquote class="twitter-tweet" data-lang="en"><p dir="ltr">My personal <a href="https://twitter.com/AppleSupport?ref_src=twsrc%5Etfw">@AppleSupport</a> laptop has been in and out of the shop most of Nov / Dec and part of January.<br><br>On the bright side... I made a handy script to set up a new computer &amp; configure from scratch since I&#39;ve had to do it over and over<br><br>Check it out here:<a href="https://t.co/qTgp7UOwYi">https://t.co/qTgp7UOwYi</a></p>&mdash; ùôΩùöíùöóùöä ùöâùöäùöîùöëùöäùöõùöéùöóùöîùöò üíñüêç (@nnja) <a href="https://twitter.com/nnja/status/1087464173016047616?ref_src=twsrc%5Etfw">January 21, 2019</a></blockquote><p><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p><p>I was like "Wow! People do that? I am a developer as well. I have got to automate something too". Then, I asked myself "what is something that I do every single day over and over again?". The answer was pretty simple. When I come to work, I do these things every day with no exception:</p><ol><li>Open PyCharm with our main project.</li><li>Start Docker</li><li>Open iTerm</li><li>Start Docker-Compose for our main project so that I have the project running on my browser.</li></ol><p>So I decided to write a script that does these things for me automatically. Disclaimer: you don't have to know any of these things. You can use them as a general reference and customize it for your needs. Also, I am on a macOS, so if you have a different OS, the script will probably need to be changed a little.</p><p>With everything out of the way, let's get this done.</p><p>Of course, the easiest way to automate such a thing is writing a shell script. So, create a file "shockingly" called <code>start_day.sh</code> and put a shebang line on the top:</p><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
</pre></div><p>The first thing that we want to do is to start PyCharm with our project open. In order to start PyCharm from the command line, you need to enable the so called <code>Command-Line Launcher</code>:</p><ol><li>Open Pycharm</li><li>Find tools in the menu bar</li><li>Click Create Command-line Launcher</li><li>Leave the default which is <code>/usr/local/bin/charm</code> and click <code>OK</code>.</li></ol><p>Now you can open PyCharm with the help of the <code>charm</code> command. Try it in your terminal and see if it works. Now let's use this knowledge and write the first command in your <code>start_day.sh</code> script:</p><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>

charm /path/to/your/project/
</pre></div><p>Make sure to change the path correctly.</p><p>Let's run this script now. In order to do that, we need to make it executable. In your terminal, do the following:</p><div class="highlight"><pre><span></span>chmod +x start_day.sh
</pre></div><p>Now that it is executable, we can run it like so:</p><div class="highlight"><pre><span></span>./start_day.sh
</pre></div><p>It should open PyCharm with your project ready. Yay! First step is done! On to the next.</p><p>The next step is pretty easy. We need to start <code>Docker</code>. On macOS, you can easily open any application in terminal with the following command:</p><div class="highlight"><pre><span></span>open -a ApplicationName
</pre></div><p>Let's include that in our script to have this:</p><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>

charm /path/to/your/project/
open -a Docker
</pre></div><p>Run the script again and you will see that after PyCharm opens, Docker starts as well. Cool!</p><p>The next step is the most interesting one. We need to go to our project folder and do <code>docker-compose up</code>. However, there is a catch. Our script will execute very fast but <code>Docker</code> that we started above takes around 20 seconds to start. Thus, if we immediately do <code>docker-compose up</code>, it will fail saying that <code>Docker</code> hasn't started yet. Here is the script, run it and see for yourself:</p><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>

charm /path/to/your/project/
open -a Docker
<span class="nb">cd</span> /path/to/your/project/
docker-compose up
</pre></div><p>We could tell it to <code>sleep()</code> for some hard-coded amount of time so that <code>Docker</code> has enough time to start:</p><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>

charm /path/to/your/project/
open -a Docker
<span class="nb">cd</span> /path/to/your/project/
sleep 25
docker-compose up
</pre></div><p>Obviously this is not a good solution and the sleep time will vary from machine to machine. Thus, we need to know when Docker fully starts and then run <code>docker-compose</code>.</p><p>Here is what we will do. We will run any <code>Docker</code> command and see if it ran successfully meaning that <code>Docker</code> has started. If it is not successful, it means that <code>Docker</code> hasn't started yet and thus we will tell it to try again after 1 second. We will try this in a loop until it is successful. When it finally runs successfully, we can call our <code>docker-compose up</code> command.</p><p>Here is the part that waits for <code>Docker</code> to start:</p><div class="highlight"><pre><span></span><span class="k">while</span> <span class="o">(</span>! docker stats --no-stream<span class="o">)</span><span class="p">;</span>
    <span class="k">do</span> <span class="nb">echo</span> <span class="s1">&#39;Waiting for Docker to launch...&#39;</span><span class="p">;</span>
    sleep 1<span class="p">;</span>
<span class="k">done</span>
</pre></div><p>In a while loop, it tries to get docker stats. It continues running as long as that command returns a falsy result. Only after it returns a truthy result, the while loop ends and the script can continue.</p><p>We have all the pieces of the puzzle now and we can put it together:</p><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>

charm /path/to/your/project/
open -a Docker
<span class="nb">cd</span> /path/to/your/project/

<span class="k">while</span> <span class="o">(</span>! docker stats --no-stream<span class="o">)</span><span class="p">;</span>
    <span class="k">do</span> <span class="nb">echo</span> <span class="s1">&#39;Waiting for Docker to launch...&#39;</span><span class="p">;</span>
    sleep 1<span class="p">;</span>
<span class="k">done</span>

docker-compose up
</pre></div><p>That's it! Now try running it and you will see this "robot" will do everything for you.</p><h2>Conclusion</h2><p>In this blog post, we wrote a small bash script to automate my start of the day. This is how I start my day at work now. I come to work, open iTerm, run this script and go have some coffee until everything is ready for me. This is not a difficult script and task. However, it still feels good. I was inspired by Nina Zakharenko and now I hope that this will serve as an inspiration to somebody as well. I am extremely interested in what you automated in your workflow. Let me know in the comments.</p><p>Fight on!</p></div><div class="pagination clearfix"><a class="prev" href="/posts/django-static-files/">¬´ Previous</a></ul></div><p><div class="likely likely-big"><div class="facebook">Share</div><div class="twitter" data-via="rahmon0v">Tweet</div><div class="telegram">Send</div><div class="linkedin">Share</div></div></p><div class="end"><span> If you liked what you read, subscribe below. Once in a while, I will send you a list of my new posts. </span><div id="popup"><p><link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css"><style type="text/css">
                #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
                /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
            </style><div id="mc_embed_signup"><form action="//rahmonov.us16.list-manage.com/subscribe/post?u=9e30bdfdfe0a7bd7cf7e0d50a&id=af3f3c5f76" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"><div class="indicates-required"><span class="asterisk">*</span> indicates required</div><div class="mc-field-group"><label for="mce-MMERGE1">Name </label><input type="text" value name="MMERGE1" class id="mce-MMERGE1"></div><div class="mc-field-group"><label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label><input type="email" value name="EMAIL" class="required email" id="mce-EMAIL"></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div> <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_9e30bdfdfe0a7bd7cf7e0d50a_af3f3c5f76" tabindex="-1" value></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div></p></div></div><div id="disqus_thread"></div><script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        var disqus_shortname = 'jrahmonov';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></div><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-67392250-1', 'auto');
      ga('send', 'pageview');
    </script><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><script src="/static/js/mobile.js"></script><script src="/static/vendor/lightbox2/js/lightbox.min.js"></script><script src="/static/"></script></body></html>